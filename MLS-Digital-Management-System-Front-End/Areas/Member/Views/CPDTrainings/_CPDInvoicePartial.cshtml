@model MLS_Digital_Management_System_Front_End.Core.DTOs.CPDTrainingRegistration.CreateCPDTrainingRegistrationDTO

<!-- Add Select2 CSS -->
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

<!-- Modal -->
<div class="modal-dialog modal-md">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title" id="exampleModalLabel text-center">Request Training Invoice</h5>
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">
      <form asp-action="Create">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <input asp-for="CPDTrainingId" type="hidden" />
        <div class="row row-cols-lg-1" >
          <div class="mb-3" id="cpd_training_no_payment_alert">
            <div class="text-end">
              <i class="bi bi-emoji-smile text-success" style="font-size: 2rem;"></i>
            </div>
            <div class="alert alert-success" role="alert">
              <p class="text-center"><strong>This is a free event, no need for payment!!</strong></p>
            </div>
          </div>
          <div class="mb-3" id="cpd_training_payment_alert">
            <div class="text-end">
              <i class="bi bi-exclamation-triangle text-danger" style="font-size: 2rem;"></i>
            </div>
            <div class="alert alert-danger" role="alert">
              <p>This is a paid event, Please make sure you attach proof of payment when registering.</p>
              <p>The amount to be paid is: <span id="cpd_training_amount"></span></p>
            </div>
          </div>
          <div class="mb-3">
            <label class="form-label">Request Type</label>
            <select class="form-control" id="requestType" required>
              <option value="">Please Select Request Type</option>
              <option value="Individual">Individual</option>
              <option value="Firm">Firm/Institution/NGO</option>
            </select>
          </div>
          <div class="mb-3" id="firmMembersSection" style="display: none;">
            <label class="form-label">Select Firm Members</label>
            <select class="form-control select2-multiple" id="firmMembers" name="firmMembers[]" multiple style="width: 100%;" disabled>
              <!-- Options will be populated via JavaScript -->
            </select>
            <small class="text-muted">Search and select multiple members</small>
            <div class="invalid-feedback" id="firmMembersError">
              Please select at least one firm member
            </div>
          </div>
          <div class="mb-3">
            <label asp-for="AttendanceMode" class="form-label"></label>
            <select asp-for="AttendanceMode" required class="form-control">
                <option value="">Please Select Mode Of Attendance</option>
                <option value="Virtual">Virtual</option>
                <option value="Physical">Physical</option>
            </select>
            <span asp-validation-for="AttendanceMode" class="text-danger"></span>
          </div>
          <div class="mb-3" id="seniorityLevelContainer" style="display: none;">
            <label class="form-label">Seniority Level</label>
            <select class="form-control" id="seniorityLevel" name="SeniorityLevel" required>
                <option value="">Please select years at the Bar</option>
                <option value="Senior">Above 5 years</option>
                <option value="Junior">5 years and Below</option>
            </select>
            <span class="text-danger"></span>
          </div>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      <button type="button" class="btn btn-info" name="request_invoice_btn" id="request_invoice_btn">Request Invoice</button>
    </div>
  </div>
</div>

<style>
.select2-container--default .select2-selection--multiple {
    border: 1px solid #ced4da;
    border-radius: 0.25rem;
    min-height: 38px;
}
.select2-container--default.select2-container--focus .select2-selection--multiple {
    border-color: #86b7fe;
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}
</style>
